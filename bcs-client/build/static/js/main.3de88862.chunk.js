(this["webpackJsonpbcs-client"]=this["webpackJsonpbcs-client"]||[]).push([[0],{10:function(e,t,n){e.exports={planner_div:"planner_planner_div__2Buh9",planner_table:"planner_planner_table__1lQrd",entry_prompt:"planner_entry_prompt__BB0o3",control_cell:"planner_control_cell__2yOgP",description:"planner_description__2PY3s",name:"planner_name__M6dy7",start:"planner_start__mAOZa",end:"planner_end__1GoCq",participants:"planner_participants__d1TfE",services:"planner_services__3Q9T_",feed_div:"planner_feed_div__2nXc8",event_feed:"planner_event_feed__1FjjB"}},15:function(e,t,n){e.exports={logindiv:"login_logindiv__2lyMY",loginfeed:"login_loginfeed__2VZuP",username:"login_username__11JhW",password:"login_password__1o_F_",entry:"login_entry__1UeXW",buttonrow:"login_buttonrow__1zB-z",login_button_cell:"login_login_button_cell__2ncw0",register_button_cell:"login_register_button_cell__2TNMB",loginbutton:"login_loginbutton__3ZEhI",registerbutton:"login_registerbutton__34Rin"}},16:function(e,t,n){e.exports={details_div:"eventpage_details_div__heySG",reg_div:"eventpage_reg_div__1mHO-",payment_table:"eventpage_payment_table__1vu32",new_payment:"eventpage_new_payment__3D9mD",reg_table:"eventpage_reg_table__2atqK",details_table:"eventpage_details_table__2McFG",description:"eventpage_description__2L_7Q",info:"eventpage_info__1Pmoc"}},17:function(e,t,n){e.exports={details_div:"servicepage_details_div__cbYI_",reg_div:"servicepage_reg_div__245wU",payment_table:"servicepage_payment_table__3Pku-",new_payment:"servicepage_new_payment__3kFrQ",reg_table:"servicepage_reg_table__2VzaT",details_table:"servicepage_details_table__3uOhK",description:"servicepage_description__5La7x",info:"servicepage_info__fVNoi",detail_entry:"servicepage_detail_entry__3wWm8"}},22:function(e,t,n){e.exports={volunteer_div:"volunteer_volunteer_div__K_j39",volunteer_list:"volunteer_volunteer_list__2_9sw"}},23:function(e){e.exports=JSON.parse('{"events":{"Boa-Constrictor Live Strangling Demonstration (Ages 3+)":{"name":"Boa-Constrictor Live Strangling Demonstration (Ages 3+)","type":"Community","startTime":"2021-03-31 15:30:00","endTime":"2021-03-31 16:30:00","description":"Live swallowing of a baby deer.","participants":"45","planner":"Joe Dangerous","volunteerNeeds":"Need volunteers with strong necks who won\'t be strangled easily. Must be good at pulling kids out of snakes\' mouths.","totalSlots":5,"remainingSlots":3},"Bill and Ted\'s Excellent Wedding":{"name":"Bill and Ted\'s Excellent Wedding","type":"Private","startTime":"2021-05-31 18:00:00","endTime":"2021-05-31 24:00:00","participants":"40","description":"A wonderful union for two awesome dudes.","planner":"Abroham Lincoln","services":"Catering, DJ set, MC"},"CS:GO LAN Party":{"name":"CS:GO LAN Party","type":"Private","startTime":"2021-06-29 18:00:00","endTime":"2021-06-30 8:00:00","description":"Couple\'a guys bein\' dudes.","participants":"15","planner":"Joel Casteel","services":"Internet, Tables, Chairs"},"Flat-Earther Convention":{"name":"Flat-Earther Convention","type":"Community","startTime":"2021-04-20 12:00:00","endTime":"2021-04-20 22:00:00","participants":"100","description":"A convention for truth seekers","planner":"Crey Z. Unkal","volunteerNeeds":"Looking for volunteers with healthy sense of doubt and skepticism. Must not be sheeple.","totalSlots":10,"remainingSlots":9},"Esports Tournament":{"name":"Esports Tournament","type":"Community","startTime":"2021-04-10 16:00:00","endTime":"2021-04-10 23:30:00","participants":32,"description":"Community Smash Bros Tourney","planner":"Joel Casteel","volunteerNeeds":"Wanted. Volunteers to officiate Super Smash Bros Community Tournament. Must be understand rules and be capable of taking controllers from raging contestants.","totalSlots":7,"remainingSlots":1},"Pottery Night":{"name":"Pottery Night","type":"Community","startTime":"2021-05-1 18:00:00","endTime":"2021-05-2 24:00:00","participants":24,"description":"Come enjoy a fun pottery night for the whole family.","planner":"Mary Potts","volunteerNeeds":"Accepting application from volunteers who enjoy scultping clay into various shapes. This is NOT a harry potter themed event.","totalSlots":4,"remainingSlots":2}},"private":["Bill and Ted\'s Excellent Wedding","CS:GO LAN Party"],"public":["Boa-Constrictor Live Strangling Demonstration (Ages 3+)","Esports Tournament","Pottery Night","Flat-Earther Convention"]}')},25:function(e,t,n){e.exports={feedDiv:"eventfeed_feedDiv__Ichvb",eventfeed:"eventfeed_eventfeed__2QGIS"}},27:function(e,t,n){e.exports={donate_div:"donate_donate_div__2me51",donate_table:"donate_donate_table__30ETH",donate_name:"donate_donate_name__3DuPT"}},33:function(e,t,n){e.exports={payment_table:"payment_payment_table__1P5-L",new_payment:"payment_new_payment__3rXvB"}},41:function(e,t,n){},49:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(20),i=n.n(a),c=(n(41),n(3)),o=n.n(c),l=n(5),d=n(6),j=n(7),u=n(9),h=n(8),b=n(11),p=n(4),m=n(25),x=n.n(m),v=n(0),g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={eventsLoaded:!1,events:null,error:null},e.eventLink=function(e){return Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/event/"+e._uuid,children:e.title})})},e.eventList=function(){return e.state.events.map((function(t,n){var r=new Date(t.startDate.toString()),s=new Date(t.endDate.toString());return Object(v.jsxs)("tr",{children:[e.eventLink(t),Object(v.jsx)("td",{children:t.description}),Object(v.jsx)("td",{children:r.toUTCString()}),Object(v.jsx)("td",{children:s.toUTCString()})]},n)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/event",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:n=e.sent,console.log(n),this.setState({eventsLoaded:!0,events:n}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.eventsLoaded&&null===this.state.error?Object(v.jsx)("div",{className:"feedDiv",children:Object(v.jsxs)("table",{className:x.a.eventfeed,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Event Name"},"eventName"),Object(v.jsx)("th",{children:"Event Type"},"eventdescript"),Object(v.jsx)("th",{children:"Start Time"},"startTime"),Object(v.jsx)("th",{children:"End Time"},"endTime")]})}),Object(v.jsx)("tbody",{children:this.eventList()})]})}):this.state.error?Object(v.jsx)("div",{children:"Error Loading Events"}):Object(v.jsx)("div",{children:"Loading Events"})}}]),n}(r.Component),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={servicesLoaded:!1,services:null,error:null},e.serviceLink=function(e){return Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/service/"+e._uuid,children:e.title})})},e.serviceList=function(){return e.state.services.map((function(t,n){return Object(v.jsxs)("tr",{children:[e.serviceLink(t),Object(v.jsx)("td",{children:t.description}),Object(v.jsx)("td",{children:t.cost}),Object(v.jsx)("td",{children:t.costPeriod})]},n)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/service",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:n=e.sent,console.log(n),this.setState({servicesLoaded:!0,services:n}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.servicesLoaded&&null===this.state.error?Object(v.jsx)("div",{className:"feedDiv",children:Object(v.jsxs)("table",{className:x.a.eventfeed,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Service Name"},"serviceName"),Object(v.jsx)("th",{children:"Service Type"},"serviceDescript"),Object(v.jsx)("th",{children:"Service Cost "},"serviceCost"),Object(v.jsx)("th",{children:"Cost Period"},"servicePeriod")]})}),Object(v.jsx)("tbody",{children:this.serviceList()})]})}):this.state.error?Object(v.jsx)("div",{children:"Error Loading Services"}):Object(v.jsx)("div",{children:"Loading services"})}}]),n}(r.Component),f=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Best Community Service"}),Object(v.jsx)("p",{children:"Best Community Service is dedicated to making an impact locally through our many events and volunteering opportunities."}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Event Schedule"}),Object(v.jsx)(g,{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Services Provided"}),Object(v.jsx)(O,{})]})},y=(n(49),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedIn:e.props.loggedIn,isAdmin:"admin"===e.props.role},e.onLogoutclick=function(t){e.props.onLogoutSubmit()},e.loginText=function(){return e.props.loggedIn?Object(v.jsxs)(r.Fragment,{children:["Welcome, ",e.props.username,". ",Object(v.jsx)(b.b,{onClick:e.onLogoutclick,to:"/",children:Object(v.jsx)("b",{children:"Logout"})})]}):Object(v.jsx)(b.b,{to:"/login",children:Object(v.jsx)("b",{children:"Login/Register"})})},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("table",{className:"navbar",children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"logo",children:Object(v.jsx)("b",{children:"Best Community Service"})},"logo"),Object(v.jsx)("td",{},"pad0"),Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/",children:Object(v.jsx)("b",{children:"Home"})})},"home"),"admin"===this.props.role&&Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/planner",children:Object(v.jsx)("b",{children:"Event Planner"})})},"planner"),Object(v.jsx)("td",{children:Object(v.jsx)(b.b,{to:"/donate",children:Object(v.jsx)("b",{children:"Donate"})})},"donate"),Object(v.jsx)("td",{},"pad1"),Object(v.jsx)("td",{className:"login",children:this.loginText()},"login")]})})})})}}]),n}(r.Component)),_=n(15),S=n.n(_),C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={username:null,password:null,loggedIn:!1,error:null},e.onUsernameChange=function(t){e.setState({username:t.target.value})},e.onPasswordChange=function(t){e.setState({password:t.target.value})},e.onLoginButton=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.username||!e.state.password){t.next=22;break}return t.prev=1,t.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.state.username,password:e.state.password})});case 4:if(201!==(r=t.sent).status){t.next=16;break}return t.next=8,r.json();case 8:s=t.sent,sessionStorage.setItem("token",s.token),(a={}).header=JSON.parse(window.atob(s.token.split(".")[0])),a.payload=JSON.parse(window.atob(s.token.split(".")[1])),sessionStorage.setItem("username",a.payload.username),sessionStorage.setItem("role",a.payload.role),e.props.onLoginSubmit(a.payload.username,a.payload.role);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),e.setState({error:t.t0});case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e.onRegisterButton=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.username||!e.state.password){t.next=22;break}return t.prev=1,t.next=4,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.state.username,password:e.state.password})});case 4:if(201!==(r=t.sent).status){t.next=16;break}return t.next=8,r.json();case 8:s=t.sent,sessionStorage.setItem("token",s.token),(a={}).header=JSON.parse(window.atob(s.token.split(".")[0])),a.payload=JSON.parse(window.atob(s.token.split(".")[1])),sessionStorage.setItem("username",a.payload.username),sessionStorage.setItem("role",a.payload.role),e.props.onRegisterSubmit(a.payload.username,a.payload.role);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),e.setState({error:t.t0});case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectBack=function(){var t=e.props.popNext();return Object(v.jsx)(p.a,{to:t})},e}return Object(j.a)(n,[{key:"render",value:function(){return this.props.loggedIn?Object(v.jsx)("div",{children:this.redirectBack()}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Login"}),Object(v.jsx)("div",{className:S.a.logindiv,children:Object(v.jsx)("table",{className:S.a.loginfeed,children:Object(v.jsxs)("tbody",{children:[Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{id:S.a.username,colSpan:"2",children:[Object(v.jsx)("b",{children:"Username"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{className:S.a.entry,type:"text",onChange:this.onUsernameChange})]})},"username"),Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{id:S.a.password,colSpan:"2",children:[Object(v.jsx)("b",{children:"Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{className:S.a.entry,type:"password",onChange:this.onPasswordChange})]})}),Object(v.jsxs)("tr",{id:S.a.buttonrow,children:[Object(v.jsx)("td",{id:S.a.login_button_cell,children:Object(v.jsx)("button",{id:S.a.loginbutton,onClick:this.onLoginButton,children:Object(v.jsx)("b",{children:"Login"})})}),Object(v.jsx)("td",{id:S.a.register_button_cell,children:Object(v.jsx)("button",{id:S.a.registerbutton,onClick:this.onRegisterButton,children:Object(v.jsx)("b",{children:"Register"})})})]})]})})})]})}}]),n}(r.Component),N=n(10),k=n.n(N),w=(n(23),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={name:"",start:"",end:"",participants:0,services:"",description:"",eventsLoaded:!1,events:null,error:null,currentEvent:null,message:""},e.onNameChange=function(t){e.setState({name:t.target.value})},e.onStartTimeChange=function(t){e.setState({start:t.target.value})},e.onEndTimeChange=function(t){e.setState({end:t.target.value})},e.onParticipantsChange=function(t){e.setState({participants:t.target.value})},e.onServicesChange=function(t){e.setState({services:t.target.value})},e.onDescriptionChange=function(t){e.setState({description:t.target.value})},e.onSavePressed=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.sessionStorage.getItem("token"),t.next=4,fetch("/api/event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({title:e.state.name,startDate:e.state.start,endDate:e.state.end,maxSlots:e.state.participants,cost:e.state.services,description:e.state.description})});case 4:s=t.sent,console.log(s),201===s.status&&e.getEvents(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),e.setState({error:t.t0,message:"Error saving event!"});case 13:e.setState({name:"",start:"",end:"",participants:0,services:"",description:""});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onClearPressed=function(t){e.setState({name:"",startDate:"",endDate:"",participants:0,services:"",description:""})},e.onEditClick=function(e){this.setState({name:e.title,startDate:e.startDate.slice(0,-1),endDate:e.endDate.slice(0,-1),participants:e.maxSlots,services:e.cost,description:e.description})},e.onDeleteClick=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t._uuid),e.prev=1,n=window.sessionStorage.getItem("token"),e.next=5,fetch("/api/event/"+t._uuid,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 5:r=e.sent,console.log(r),204===r.status&&(this.getEvents(),this.setState({message:"Event successfully deleted"})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),this.setState({message:"Error deleting event!"});case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),e.eventTable=function(){return Object(v.jsx)("div",{className:k.a.feed_div,children:Object(v.jsxs)("table",{className:k.a.event_feed,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Event Name"},"eventName"),Object(v.jsx)("th",{children:"Start Time"},"start"),Object(v.jsx)("th",{children:"End Time"},"end"),Object(v.jsx)("th",{children:"Participants"},"participants"),Object(v.jsx)("th",{children:"Cost"},"services"),Object(v.jsx)("th",{children:"Description"},"description"),Object(v.jsx)("th",{},"delete-blank")]})}),Object(v.jsx)("tbody",{children:e.eventFeed()})]})})},e.eventFeed=function(){return e.state.events.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.title}),Object(v.jsx)("td",{children:new Date(t.startDate.toString()).toUTCString()}),Object(v.jsx)("td",{children:new Date(t.endDate.toString()).toUTCString()}),Object(v.jsx)("td",{children:t.maxSlots}),Object(v.jsx)("td",{children:t.cost}),Object(v.jsx)("td",{children:t.description}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{onClick:function(){return e.onDeleteClick(t)},children:"Delete"})},"delete")]},n)}))},e}return Object(j.a)(n,[{key:"getEvents",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({events:null,eventsLoaded:!1,error:null}),e.prev=1,t=window.sessionStorage.getItem("token"),e.next=5,fetch("/api/event",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 5:if(200!==(n=e.sent).status){e.next=12;break}return e.next=9,n.json();case 9:r=e.sent,console.log(r),this.setState({events:r,eventsLoaded:!0});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.setState({error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getEvents();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.eventsLoaded&&null===this.state.error?Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:k.a.planner_div,children:[Object(v.jsx)("h3",{children:"Create Event"}),Object(v.jsx)("h4",{children:this.state.message}),Object(v.jsxs)("table",{className:k.a.planner_table,children:[Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:k.a.entry_prompt,children:"Event Name"}),Object(v.jsx)("td",{colSpan:"3",children:Object(v.jsx)("input",{id:k.a.name,type:"text",value:this.state.name,onChange:this.onNameChange})})]},"event-name"),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:k.a.entry_prompt,children:"Start Time"}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{id:k.a.start,type:"datetime-local",value:this.state.startDate,onChange:this.onStartTimeChange})}),Object(v.jsx)("td",{className:k.a.entry_prompt,children:"End Time"}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{id:k.a.end,type:"datetime-local",value:this.state.endDate,onChange:this.onEndTimeChange})})]},"event-time"),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:k.a.entry_prompt,children:"Participants"}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{id:k.a.participants,type:"text",pattern:"^[0-9]*$",value:this.state.participants,onChange:this.onParticipantsChange})}),Object(v.jsx)("td",{className:k.a.entry_prompt,children:"Event Cost"}),Object(v.jsxs)("td",{children:["$",Object(v.jsx)("input",{id:k.a.services,type:"text",value:this.state.services,onChange:this.onServicesChange})]})]},"event-details"),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:k.a.entry_prompt,children:"Description"}),Object(v.jsx)("td",{colSpan:"3",children:Object(v.jsx)("textarea",{id:k.a.description,value:this.state.description,onChange:this.onDescriptionChange})})]},"event-description")]}),Object(v.jsx)("tfoot",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:k.a.control_cell,colSpan:"2",children:Object(v.jsx)("button",{onClick:this.onSavePressed,children:"Save Event"})}),Object(v.jsx)("td",{className:k.a.control_cell,colSpan:"2",children:Object(v.jsx)("button",{onClick:this.onClearPressed,children:"Clear Event"})})]})})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Planned Events"}),Object(v.jsx)("div",{children:this.eventTable()})]})]}):this.state.error?Object(v.jsx)("div",{children:"Error loading Events"}):Object(v.jsx)("div",{children:"Loading events"})}}]),n}(r.Component)),E=n(24),P=n(33),T=n.n(P),L=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).onCardNumberUpdate=function(t){e.setState({cardNum:t.target.value})},e.onCardNameUpdate=function(t){e.setState({cardName:t.target.value})},e.onExpirMonthUpdate=function(t){e.setState({expirMonth:t.target.value})},e.onExpirYearUpdate=function(t){e.setState({expirYear:t.target.value})},e.onPaymentSubmit=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({sending:!0}),r={cardNum:e.state.cardNum,name:e.state.cardName,expirMonth:parseInt(e.state.expirMonth),expirYear:parseInt(e.state.expirYear)},t.prev=2,s=window.sessionStorage.getItem("token"),t.next=6,fetch("/api/payment/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify(r)});case 6:201===t.sent.status&&(e.getPayments(),e.setState({message:"Payment saved successfully"})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),e.setState({error:t.t0,message:"Error saving payment"});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),e.onPaymentSelect=function(t){e.props.onPaymentSelect(t)},e.state={payment:null,paymentLoaded:!1,paymentOptions:null,cardNum:"",cardName:"",expirMonth:1,expirYear:2021,sending:!1,error:null,message:""},e}return Object(j.a)(n,[{key:"getPayments",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,s,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.sessionStorage.getItem("token"),e.next=4,fetch("/api/payment/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:for(a in r=e.sent,console.log(r),s=[],r)i=(i=r[a].cardNum.toString()).slice(0,4)+" **** **** ****",s.push({value:r[a],label:i});this.setState({paymentLoaded:!0,payment:r,paymentOptions:s}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0});case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getPayments();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsx)("table",{className:T.a.payment_table,children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{colSpan:"1",children:[Object(v.jsx)("h3",{children:"Select Payment"}),Object(v.jsx)("br",{}),Object(v.jsx)(E.a,{options:this.state.paymentOptions,isSearchable:!0,onChange:this.onPaymentSelect})]}),Object(v.jsxs)("td",{colSpan:"1",className:T.a.new_payment,children:[Object(v.jsx)("h3",{children:"Add New Payment Method"}),Object(v.jsx)("p",{children:this.state.message}),Object(v.jsx)("b",{children:"Card Number"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",onChange:this.onCardNumberUpdate,value:this.state.cardNum}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Cardholder Name"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",onChange:this.onCardNameUpdate,value:this.state.cardName}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Expiration Month"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"number",min:"1",max:"12",onChange:this.onExpirMonthUpdate,value:this.state.expirMonth}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Expiration Year"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"number",min:"2021",max:"2050",onChange:this.onExpirYearUpdate,value:this.state.expirYear}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:this.onPaymentSubmit,children:"Save Payment"})]})]})})})}}]),n}(r.Component),D=n(16),I=n.n(D),R=(n(23).events,function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n),(e=t.call(this)).onPaymentSelect=function(t){var n=t.value.cardNum.repeat(1);e.setState({payment:n})},e.pmtChooser=function(){return e.state.paymentRequired?Object(v.jsx)(L,{onPaymentSelect:e.onPaymentSelect}):""},e.onRegisterSubmit=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null===e.state.payment&&e.state.paymentRequired){t.next=11;break}return r="",null!==e.state.payment&&(r=e.state.payment),s=window.sessionStorage.getItem("token"),t.next=7,fetch("/api/reg",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({eventID:e.state.currentEvent._uuid,cardNumber:r})});case 7:201===t.sent.status&&e.setState({message:"Registration added.",registered:!0}),t.next=12;break;case 11:e.state.paymentRequired&&e.setState({message:"Payment Required."});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),e.setState({message:"Error saving registration"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),e.registration=function(){var t="No";if(e.state.paymentRequired&&(t="Yes"),e.props.loggedIn){var n=sessionStorage.getItem("username");return e.state.registered?Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Already Registered for Event"}),Object(v.jsx)("table",{className:I.a.reg_table,children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Username"}),Object(v.jsx)("br",{}),n]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Slots Taken"}),Object(v.jsx)("br",{}),e.state.currentEvent.count,"/",e.state.currentEvent.maxSlots]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Payment Provided"}),Object(v.jsx)("br",{}),e.state.paymentProvided]})]})})})]}):Object(v.jsxs)("div",{className:I.a.reg_div,children:[Object(v.jsx)("h2",{children:"Register for Event"}),Object(v.jsx)("table",{className:I.a.reg_table,children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Username"}),Object(v.jsx)("br",{}),n]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Slots Taken"}),Object(v.jsx)("br",{}),e.state.currentEvent.count,"/",e.state.currentEvent.maxSlots]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Payment Required"}),Object(v.jsx)("br",{}),t]})]})})}),e.pmtChooser(),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:e.state.message}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:e.onRegisterSubmit,children:"Register"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})}return Object(v.jsx)("div",{children:Object(v.jsx)("h3",{children:"Login to Register"})})},e.currentEventDisplay=function(){return Object(v.jsxs)("div",{className:I.a.details_div,children:[Object(v.jsx)("h1",{children:e.state.currentEvent.title}),Object(v.jsxs)("table",{className:I.a.details_table,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Start Time"},"start"),Object(v.jsx)("th",{children:"End Time"},"end"),Object(v.jsx)("th",{children:"Max Attendees"},"attendees"),Object(v.jsx)("th",{children:"Planner"},"planner"),Object(v.jsx)("th",{children:"Cost"},"cost")]})}),Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:I.a.info,children:new Date(e.state.currentEvent.startDate.toString()).toUTCString()}),Object(v.jsx)("td",{className:I.a.info,children:new Date(e.state.currentEvent.endDate.toString()).toUTCString()}),Object(v.jsx)("td",{className:I.a.info,children:e.state.currentEvent.maxSlots}),Object(v.jsx)("td",{className:I.a.info,children:e.state.currentEvent.planner}),Object(v.jsxs)("td",{className:I.a.info,children:["$",e.state.currentEvent.cost]})]})}),Object(v.jsx)("tfoot",{children:Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{id:I.a.description,colSpan:"5",children:[Object(v.jsx)("b",{children:"Description:"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:e.state.currentEvent.description})]})})})]})]})};var r=window.location.pathname.slice(7);return console.log(r),e.state={pathname:r,currentEvent:null,eventLoaded:!1,paymentRequired:!1,pmt:"",payment:null,paymentProvided:"",paymentLoaded:!1,paymentOptions:null,cardNum:"",cardName:"",expirMonth:1,expirYear:2021,error:null,message:"",registered:!1},e}return Object(j.a)(n,[{key:"checkRegistered",value:function(){var e=sessionStorage.getItem("username");for(var t in this.state.currentEvent.regs){var n=this.state.currentEvent.regs[t];if(console.log(n),n.username===e)return!0}return!1}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,s,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/event/"+this.state.pathname,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:if(n=e.sent,console.log(n),this.setState({eventLoaded:!0,currentEvent:n}),this.checkPmtReq(),this.props.loggedIn)for(s in console.log("HELLO"),r=sessionStorage.getItem("username"),n.regs)a=n.regs[s],console.log(a),a.username===r&&(i="",null!==a.cardNum&&(i=a.cardNum.slice(0,4)+" **** **** ****"),this.setState({registered:!0,paymentProvided:i}));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkPmtReq",value:function(){this.state.currentEvent.cost>0&&this.setState({paymentRequired:!0})}},{key:"render",value:function(){return this.state.eventLoaded&&null===this.state.error?Object(v.jsxs)("div",{children:[this.currentEventDisplay(),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),this.registration()]}):this.state.error?Object(v.jsx)("div",{children:"Error fetching event"}):Object(v.jsx)("div",{children:"Loading event details"})}}]),n}(r.Component)),U=n(27),B=n.n(U),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).onDonorNameUpdate=function(t){e.setState({donorName:t.target.value})},e.onEmailUdate=function(t){e.setState({email:t.target.value})},e.onAmountUpdate=function(t){e.setState({amount:t.target.value})},e.onCardName=function(t){e.setState({cardName:t.target.value})},e.onCardNumUpdate=function(t){e.setState({cardNum:t.target.value})},e.onExpirMonthUpdate=function(t){e.setState({expirMonth:t.target.value})},e.onExpirYearUpdate=function(t){e.setState({expirYear:t.target.value})},e.onSubmitDonation=function(t){e.setState({donated:!0})},e.state={donorName:"",email:"",amount:0,cardNum:"",cardName:"",expirMonth:1,expirYear:2021,donated:!1},e}return Object(j.a)(n,[{key:"render",value:function(){return this.state.donated?Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Donation successful! Thank you for your contribution!"}),Object(v.jsx)(b.b,{to:"/",children:"Return to Homepage"})]}):Object(v.jsxs)("div",{className:B.a.donate_div,children:[Object(v.jsx)("h1",{children:"Donations"}),Object(v.jsxs)("p",{children:["Here at Best Community Service, we are dedicated to making the most of what we're given.",Object(v.jsx)("br",{}),"To make a donation please download, fill out, and upload a donation form.",Object(v.jsx)("br",{}),"We'll contact you to complete the process."]}),Object(v.jsx)("table",{className:B.a.donate_table,children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{colSpan:"2",children:["Donor Name ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",className:B.a.donate_name,value:this.state.donorName,onChange:this.onDonorNameUpdate})]}),Object(v.jsxs)("td",{children:["Donor Email ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",value:this.state.email,onChange:this.onEmailUdate})]}),Object(v.jsxs)("td",{children:["Donation Amount ",Object(v.jsx)("br",{}),"$",Object(v.jsx)("input",{type:"text",value:this.state.amount,onChange:this.onAmountUpdate})]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:["Card Number ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",value:this.state.cardNum,onChange:this.onCardNumUpdate})]}),Object(v.jsxs)("td",{children:["Cardholder Name ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",value:this.state.cardName,onChange:this.onCardName})]}),Object(v.jsxs)("td",{children:["Expiration Month",Object(v.jsx)("input",{type:"text",value:this.state.expirMonth,onChange:this.onExpirMonthUpdate})]}),Object(v.jsxs)("td",{children:["Expiration Year",Object(v.jsx)("input",{type:"text",value:this.state.expirYear,onChange:this.onExpirYearUpdate})]})]})]})}),Object(v.jsx)("button",{onClick:this.onSubmitDonation,children:"Submit Donation"})]})}}]),n}(r.Component),A=n(22),q=n.n(A),Y=n(23),J=[[Y.public[0],"Approved"],[Y.public[1],"Pending"]],F=[Y.public[2],Y.public[3]],G=(r.Component,n(17)),z=n.n(G),W=(n(23).events,function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n),(e=t.call(this)).onPaymentSelect=function(t){var n=t.value.cardNum.repeat(1);e.setState({payment:n})},e.pmtChooser=function(){return e.state.paymentRequired?Object(v.jsx)(L,{onPaymentSelect:e.onPaymentSelect}):""},e.onDetailUpdate=function(t){e.setState({detail:t.target.value})},e.onRegisterSubmit=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log(e.state.payment),null===e.state.payment&&e.state.paymentRequired){t.next=11;break}return r=window.sessionStorage.getItem("token"),t.next=6,fetch("/api/sub",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({serviceID:e.state.currentService._uuid,cardNumber:e.state.payment,detail:e.state.detail})});case 6:s=t.sent,console.log(s),201===s.status&&e.setState({message:"Registration added.",registered:!0,detailProvided:e.state.detail}),t.next=12;break;case 11:e.state.paymentRequired&&e.setState({message:"Payment Required."});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),e.setState({message:"Error saving registration"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),e.registration=function(){var t="No";if(e.state.paymentRequired&&(t="Yes"),e.props.loggedIn){var n=sessionStorage.getItem("username");return e.state.registered?Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Registered for Service"}),Object(v.jsx)("table",{className:z.a.reg_table,children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Username"}),Object(v.jsx)("br",{}),n]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Note"}),Object(v.jsx)("br",{}),e.state.detailProvided]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Payment Provided"}),Object(v.jsx)("br",{}),e.state.paymentProvided]})]})})})]}):Object(v.jsxs)("div",{className:z.a.reg_div,children:[Object(v.jsx)("h2",{children:"Register for Service"}),Object(v.jsx)("table",{className:z.a.reg_table,children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Username"}),Object(v.jsx)("br",{}),n]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Note"}),Object(v.jsx)("br",{}),Object(v.jsx)("textarea",{width:"64",height:"3",className:z.a.detail_entry,value:e.state.detail,onChange:e.onDetailUpdate})]}),Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:"Payment Required"}),Object(v.jsx)("br",{}),t]})]})})}),e.pmtChooser(),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:e.state.message}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:e.onRegisterSubmit,children:"Register"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})}return Object(v.jsx)("div",{children:Object(v.jsx)("h3",{children:"Login to Register"})})},e.currentServiceDisplay=function(){return Object(v.jsxs)("div",{className:z.a.details_div,children:[Object(v.jsx)("h1",{children:e.state.currentService.title}),Object(v.jsxs)("table",{className:z.a.details_table,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Service Type"},"type"),Object(v.jsx)("th",{children:"Cost"},"cost"),Object(v.jsx)("th",{children:"Cost Period"},"costPeriod")]})}),Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:z.a.info,children:e.state.currentService.type}),Object(v.jsxs)("td",{className:z.a.info,children:["$",e.state.currentService.cost]}),Object(v.jsx)("td",{className:z.a.info,children:e.state.currentService.costPeriod})]})}),Object(v.jsx)("tfoot",{children:Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{id:z.a.description,colSpan:"3",children:[Object(v.jsx)("b",{children:"Description:"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:e.state.currentService.description})]})})})]})]})};var r=window.location.pathname.slice(9);return console.log(r),e.state={pathname:r,currentService:null,serviceLoaded:!1,paymentRequired:!1,pmt:"",detail:"",detailProvided:"",payment:null,paymentProvided:"",error:null,message:"",registered:!1},e}return Object(j.a)(n,[{key:"checkRegistered",value:function(){var e=sessionStorage.getItem("username");for(var t in this.state.currentService.regs){var n=this.state.currentService.regs[t];if(console.log(n),n.username===e)return!0}return!1}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,s,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/service/"+this.state.pathname,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:if(n=e.sent,console.log(n),this.setState({serviceLoaded:!0,currentService:n}),this.checkPmtReq(),this.props.loggedIn)for(s in console.log("HELLO"),r=sessionStorage.getItem("username"),n.regs)a=n.regs[s],console.log(a),a.username===r&&(i="",null!==a.cardNum&&(i=a.cardNum.slice(0,4)+" **** **** ****"),this.setState({registered:!0,paymentProvided:i}));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkPmtReq",value:function(){this.state.currentService.cost>0&&this.setState({paymentRequired:!0})}},{key:"render",value:function(){return this.state.serviceLoaded&&null===this.state.error?Object(v.jsxs)("div",{children:[this.currentServiceDisplay(),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),this.registration()]}):this.state.error?Object(v.jsx)("div",{children:"Error fetching service"}):Object(v.jsx)("div",{children:"Loading service details"})}}]),n}(r.Component)),H=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={loggedIn:!1,username:null,role:null,nextPage:null},e.onLoginSubmit=function(t,n){console.log(t+":"+n),e.setState({loggedIn:!0,username:t,role:n})},e.onRegisterSubmit=function(t,n){console.log(t+":"+n),e.setState({loggedIn:!0,username:t,role:n})},e.onLogoutSubmit=function(){e.setState({loggedIn:!1,username:null,role:null})},e.addNext=function(t){e.setState({nextPage:t})},e.popNext=function(){var t="/";return e.state.nextPage&&(t=e.state.nextPage),e.setState({nextPage:null}),t},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Best Community Service",e.prev=1,t=window.sessionStorage.getItem("token"),e.next=5,fetch("/api/check/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 5:200===e.sent.status&&this.setState({loggedIn:!0,username:window.sessionStorage.getItem("username"),role:window.sessionStorage.getItem("role")}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsx)(b.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(y,{username:this.state.username,loggedIn:this.state.loggedIn,role:this.state.role,onLogoutSubmit:this.onLogoutSubmit}),Object(v.jsxs)(p.d,{children:[Object(v.jsx)(p.b,{exact:!0,path:"/",component:f}),Object(v.jsx)(p.b,{exact:!0,path:"/login",render:function(){return Object(v.jsx)(C,{popNext:e.popNext,loggedIn:e.state.loggedIn,onLoginSubmit:e.onLoginSubmit,onRegisterSubmit:e.onRegisterSubmit})}}),Object(v.jsx)(p.b,{exact:!0,path:"/planner",render:function(){return e.state.loggedIn?"admin"==e.state.role?Object(v.jsx)(w,{addNext:e.addNext,loggedIn:e.state.loggedIn,username:e.state.username}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"You are not authorized to access the planner"}),Object(v.jsx)(b.b,{to:"/",children:"Return to homepage."})]}):Object(v.jsx)(C,{popNext:e.popNext,loggedIn:e.state.loggedIn,onLoginSubmit:e.onLoginSubmit,onRegisterSubmit:e.onRegisterSubmit})}}),Object(v.jsx)(p.b,{exact:!0,path:"/donate",component:M}),Object(v.jsx)(p.b,{path:"/event",render:function(){return Object(v.jsx)(R,{loggedIn:e.state.loggedIn})}}),Object(v.jsx)(p.b,{path:"/service",render:function(){return Object(v.jsx)(W,{loggedIn:e.state.loggedIn})}})]})]})})}}]),n}(r.Component),Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))};i.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(H,{})}),document.getElementById("root")),Q()}},[[60,1,2]]]);
//# sourceMappingURL=main.3de88862.chunk.js.map